#
# MacOS only
#
alias emptytrash="sudo rm -rfv /Volumes/*/.Trashes; sudo rm -rfv ~/.Trash; sudo rm -rfv /private/var/log/asl/*.asl"
alias o="open"

#
# Oftenly used
#
alias j="z"
alias i='ionic'
alias octave='/usr/local/octave/3.8.0/bin/octave-3.8.0 --silent'

#
# Git/Github helpers
#
alias pr='~/dotfiles/scripts/git/gh-pull-request.sh'
alias vc='~/dotfiles/scripts/git/gh-view-commit.sh'
alias mylog='~/dotfiles/scripts/git/git-monthly-log.sh Yanis'
alias gclean='~/dotfiles/scripts/git/git-clean-merged.sh'

#
# Misc/Fun
#

# Lookup lyrics of song playing in iTunes
alias ly='~/dotfiles/scripts/lyrics.sh'

# Weather
alias we='curl http://wttr.in/ | less'

# Check playing song on BBC6
alias bbc='~/dotfiles/scripts/bbc6_now_playing.sh'

# Lookup in the Dictionary.app
define() {
  open "dict://$1"
}

# Tmp alias
alias tv="coffee ~/projects/opensource/tvcl/src/index.coffee"

# The Fuck https://github.com/nvbn/thefuck
alias f='TF_CMD=$(TF_ALIAS=fuck PYTHONIOENCODING=utf-8 TF_SHELL_ALIASES=$(alias) thefuck $(fc -ln -1 | tail -n 1)) && eval $TF_CMD && print -s $TF_CMD'

#
# Following need junegunn/fzf installed.
#

# Use fzf with z
unalias z 2> /dev/null
z() {
  [ $# -gt 0 ] && _z "$*" && return
  cd "$(_z -l 2>&1 | fzf-tmux +s --tac --query "$*" | sed 's/^[0-9,.]* *//')"
}

# Checkout a branch with fzf
co() {
  local branches branch
  branches=$(git branch -vv) &&
  branch=$(echo "$branches" | fzf +m) &&
  git checkout $(echo "$branch" | awk '{print $1}' | sed "s/.* //")
}
